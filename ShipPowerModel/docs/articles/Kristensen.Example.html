<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>How-To Calculate Ship Power Using the Kristensen Model • ShipPowerModel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="How-To Calculate Ship Power Using the Kristensen Model">
<meta property="og:description" content="ShipPowerModel">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ShipPowerModel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Admiralty.Formula.Example.html">How-To Calculate Ship Power with Admiralty Formula</a>
    </li>
    <li>
      <a href="../articles/HoltropMennen.Example.html">How to Calculate Ship Power Using the Holtrop &amp; Mennnen Model</a>
    </li>
    <li>
      <a href="../articles/Kristensen.Example.html">How-To Calculate Ship Power Using the Kristensen Model</a>
    </li>
    <li>
      <a href="../articles/OverviewOfPowerModels.html">Overview of Ship Power Models</a>
    </li>
    <li>
      <a href="../articles/Propeller.Law.Example.html">How-To Calculate Ship Power Using the Propeller Law</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Kristensen.Example_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>How-To Calculate Ship Power Using the Kristensen Model</h1>
            
      
      
      <div class="hidden name"><code>Kristensen.Example.Rmd</code></div>

    </div>

    
    
<p>This example demonstrates how to use the <code>ShipPowerModel</code> package to calculate the propulsive power for a given set of ships traveling within a specified speed range using the Kristensen model. The majority of the calculations used in this example are based on the methods documented in the Ship-Desmo tool and its associated reports (Kristensen Et al.). The calculations in this example are broken into the following sections:</p>
<ul>
<li>estimation of vessel geometry and physical characteristics</li>
<li>calculate resistance terms</li>
<li>calculate efficiency terms</li>
<li>calculate propulsion power.</li>
</ul>
<p>At the end is an example using the <code>calckristPwr()</code> function, which wraps-up and streamlines all of the calculations used in this document.</p>
<div id="input-data" class="section level2">
<h2 class="hasAnchor">
<a href="#input-data" class="anchor"></a>Input Data</h2>
<p>The needed inputs to calculate propulsive engine power with the Kristensen method are:</p>
<ul>
<li>
<strong>main engine’s Maximum Continuous Rating (total installed propulsive power) (kW)</strong>: the maximum power output that the engine can produce continuously under normal operating conditions.</li>
<li>
<strong>actual ship speed (m/s)</strong>: This is the speed that the ship actually travels at for a given point in time.</li>
<li>
<strong>actualDraft (m)</strong>: The draft that the ship operates at for a given point in time</li>
<li>
<strong>maxDraft (m)</strong>: The maximum operating distance between the waterline and the bottom of the ship’s hull.</li>
<li>
<strong>ship.type</strong>: The type of ship that best describes the vessel. By default, the ship types modeled are:
<ul>
<li>container.ship</li>
<li>bulk.carrier</li>
<li>tanker</li>
<li>chemical.tanker</li>
<li>liquefied.gas.tanker</li>
<li>oil.tanker</li>
<li>other.tanker</li>
<li>general.cargo</li>
<li>ro.ro</li>
<li>passenger</li>
<li>cruise</li>
<li>cruise.ed</li>
<li>ferry.pax</li>
<li>ferry.ro.pax</li>
<li>yacht</li>
<li>tug</li>
<li>service.tug</li>
</ul>
</li>
<li>
<strong>length between perpendiculars (lbp) (m)</strong>: Length of the ship along its summer load line between stem of the ship to its sternpost.</li>
<li>
<strong>breadth (m)</strong> the width of the hull at its widest point.</li>
<li>
<strong>maxDisplacement (m^3)</strong>: The weight of the water displaced by the ship’s hull at its maximum draft.</li>
<li>
<strong>deadewight tonnage (dwt) (tonnes)</strong>: A ship’s weight carrying capacity. For this example we will load example ship data from the library:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"Sample.Ships.csv"</span>, package <span class="op">=</span> <span class="st">"ShipPowerModel"</span><span class="op">)</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">ID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>

<span class="va">ships</span> <span class="op">&lt;-</span> <span class="va">ships</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ID"</span>, <span class="st">"ship.type"</span>, <span class="st">"dwt"</span>, <span class="st">"lbp"</span>, <span class="st">"breadth"</span>, <span class="st">"Displacement"</span>, <span class="st">"maxDraft"</span>, <span class="st">"actualDraft"</span>, <span class="st">"MCR"</span>, <span class="st">"service.speed"</span><span class="op">)</span><span class="op">]</span>

<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">ships</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"Displacement"</span>, <span class="st">"maxDisplacement"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">ships</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="14%">
<col width="9%">
<col width="8%">
<col width="8%">
<col width="15%">
<col width="9%">
<col width="11%">
<col width="5%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="right">ID</th>
<th align="left">ship.type</th>
<th align="right">dwt</th>
<th align="right">lbp</th>
<th align="right">breadth</th>
<th align="right">maxDisplacement</th>
<th align="right">maxDraft</th>
<th align="right">actualDraft</th>
<th align="right">MCR</th>
<th align="right">service.speed</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">bulk.carrier</td>
<td align="right">70000.00</td>
<td align="right">214.4600</td>
<td align="right">32.25000</td>
<td align="right">80097.00</td>
<td align="right">13.570000</td>
<td align="right">12.480000</td>
<td align="right">9363</td>
<td align="right">14.58</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">container.ship</td>
<td align="right">191144.00</td>
<td align="right">396.3069</td>
<td align="right">49.00000</td>
<td align="right">238941.87</td>
<td align="right">15.600000</td>
<td align="right">14.149603</td>
<td align="right">69029</td>
<td align="right">23.00</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">tanker</td>
<td align="right">130000.00</td>
<td align="right">256.8100</td>
<td align="right">45.47000</td>
<td align="right">151488.00</td>
<td align="right">15.520000</td>
<td align="right">14.310000</td>
<td align="right">13384</td>
<td align="right">15.00</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">container.ship</td>
<td align="right">39437.25</td>
<td align="right">207.1800</td>
<td align="right">32.20000</td>
<td align="right">52382.04</td>
<td align="right">11.490000</td>
<td align="right">11.090044</td>
<td align="right">23472</td>
<td align="right">20.50</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">tanker</td>
<td align="right">25500.00</td>
<td align="right">159.9798</td>
<td align="right">25.47240</td>
<td align="right">33047.10</td>
<td align="right">9.728098</td>
<td align="right">9.046500</td>
<td align="right">6300</td>
<td align="right">14.70</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">bulk.carrier</td>
<td align="right">10780.00</td>
<td align="right">118.4445</td>
<td align="right">19.59675</td>
<td align="right">14068.16</td>
<td align="right">7.336176</td>
<td align="right">6.826964</td>
<td align="right">3535</td>
<td align="right">13.43</td>
</tr>
</tbody>
</table>
</div>
<div id="estimate-vessel-characteristics" class="section level2">
<h2 class="hasAnchor">
<a href="#estimate-vessel-characteristics" class="anchor"></a>Estimate Vessel Characteristics</h2>
<div id="convert-units" class="section level3">
<h3 class="hasAnchor">
<a href="#convert-units" class="anchor"></a>Convert Units</h3>
<p>Typically, maximum ship displacement is recorded in tonnage units. Since this package uses internally consistent units, tonnage needs to be converted to cubic meters for the maximum displacement field.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">maxDisplacement</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcDispUnitConversion.html">calcDispUnitConversion</a></span><span class="op">(</span>tonnageDisp <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">maxDisplacement</span>, 
                                                seawaterDensity <span class="op">=</span> <span class="fl">1.025</span><span class="op">)</span></code></pre></div>
</div>
<div id="estimate-additional-required-inputs" class="section level3">
<h3 class="hasAnchor">
<a href="#estimate-additional-required-inputs" class="anchor"></a>Estimate Additional Required Inputs</h3>
<p>Some inputs needed for the Kristensen power calculations are not commonly available, so they are instead estimated from parameters that are available. These include waterline length (<code>lwl</code>), propeller diameter (<code>propDiam</code>), and number of propellers (<code>nProp</code>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">lwl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calclwl.html">calclwl</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                     <span class="va">ships</span><span class="op">$</span><span class="va">lbp</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">propDiam</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcPropDia.html">calcPropDia</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                              <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">nProp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcPropNum.html">calcPropNum</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">ID</th>
<th align="right">maxDisplacement</th>
<th align="right">lwl</th>
<th align="right">propDiam</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">78143.41</td>
<td align="right">218.7492</td>
<td align="right">6.660150</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">233114.02</td>
<td align="right">400.2700</td>
<td align="right">9.558800</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">147793.17</td>
<td align="right">261.9462</td>
<td align="right">7.430400</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">51104.43</td>
<td align="right">209.2518</td>
<td align="right">6.998270</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">32241.08</td>
<td align="right">163.1794</td>
<td align="right">5.142599</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">13725.03</td>
<td align="right">120.8134</td>
<td align="right">4.197789</td>
</tr>
</tbody>
</table>
</div>
<div id="calculate-coefficients-of-form" class="section level3">
<h3 class="hasAnchor">
<a href="#calculate-coefficients-of-form" class="anchor"></a>Calculate Coefficients of Form</h3>
<p>Coefficients of form are typically used parameterize the ship hull shape and size. These include:</p>
<ul>
<li>maximum block coefficient (<code>Cb</code>)</li>
<li>waterline block coefficient (<code>Cbw</code>)</li>
<li>midship section coefficient (<code>Cm</code>)</li>
<li>prismatic coefficient (<code>Cp</code>)</li>
</ul>
<p>Any function that requires ship type also offers ship type grouping options in order to determine which ship types should be modeled as tankers, general cargo, ect. In this example, our ship types are: “container.ship”, “bulk.carrier”, and “tanker”. These are already included in our default <code>tankerBulkCarrierShipTypes</code>; however, to show their usage, the groupings are included below. For example, if one of your ship types was a “product.tanker” you might want to add that to the <code>tankerBulkCarrierShipTypes</code> list.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">Cb</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcCb.html">calcCb</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">maxDisplacement</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">breadth</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcCbw.html">calcCbw</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">Cb</span>,
                     <span class="va">ships</span><span class="op">$</span><span class="va">actualDraft</span>,
                     <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">Cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcCm.html">calcCm</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">actualDraft</span>,
                   CmEquationType <span class="op">=</span> <span class="st">"kristensen"</span>,
                   tankerBulkCarrierShipTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tanker"</span>, <span class="st">"bulk.carrier"</span><span class="op">)</span><span class="op">)</span>


<span class="va">ships</span><span class="op">$</span><span class="va">Cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcCp.html">calcCp</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">Cm</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                   bounds <span class="op">=</span> <span class="st">"none"</span>,
                   roroPaxContainerShipTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"container.ship"</span><span class="op">)</span>,
                   tankerBulkCarrierShipTypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tanker"</span>, <span class="st">"bulk.carrier"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">ID</th>
<th align="right">Cb</th>
<th align="right">Cbw</th>
<th align="right">Cm</th>
<th align="right">Cp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">0.8162747</td>
<td align="right">0.8110745</td>
<td align="right">0.9945633</td>
<td align="right">0.8155081</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">0.7618943</td>
<td align="right">0.7540218</td>
<td align="right">0.9779499</td>
<td align="right">0.7710229</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">0.7995131</td>
<td align="right">0.7940145</td>
<td align="right">0.9945772</td>
<td align="right">0.7983437</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">0.6601056</td>
<td align="right">0.6560678</td>
<td align="right">0.9792787</td>
<td align="right">0.6699500</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">0.7973452</td>
<td align="right">0.7923783</td>
<td align="right">0.9946233</td>
<td align="right">0.7966617</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">0.7902136</td>
<td align="right">0.7851223</td>
<td align="right">0.9946271</td>
<td align="right">0.7893635</td>
</tr>
</tbody>
</table>
<p>Using these coefficients of form, we can now calculate the hull wetted surface area. Air resistance can also be estimated using only ship type and maximum ship deadweight tonnage (<code>dwt</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Wetted Surface Area</span>
<span class="va">ships</span><span class="op">$</span><span class="va">wettedSA</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristWettedSA.html">calcKristWettedSA</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                                    <span class="va">ships</span><span class="op">$</span><span class="va">maxDisplacement</span>,
                                    <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span>,
                                    <span class="va">ships</span><span class="op">$</span><span class="va">actualDraft</span>,
                                    <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span>,
                                    <span class="va">ships</span><span class="op">$</span><span class="va">breadth</span>,
                                    <span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span>,
                                    seawaterDensity <span class="op">=</span> <span class="fl">1.025</span><span class="op">)</span></code></pre></div>
<p>To model for the ship’s actual operating conditions, actual displacement is estimated using the ship’s reported draft. The ship slenderness/length-displacement ratio (<code>M</code>) can then be calculated.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">actualDisplacement</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcActualDisp.html">calcActualDisp</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">Cb</span>,
                                           <span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span>,
                                           <span class="va">ships</span><span class="op">$</span><span class="va">actualDraft</span>,
                                           <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span>,
                                           <span class="va">ships</span><span class="op">$</span><span class="va">maxDisplacement</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcShipM.html">calcShipM</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">actualDisplacement</span>,
                     <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="calculate-resistance-terms" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-resistance-terms" class="anchor"></a>Calculate Resistance Terms</h2>
<p>The next set of calculations estimate the magnitude of resistances that the ship must overcome to maintain its speed.</p>
<p>In this example, the ship actual speed will be a defined set of discrete speeds between 1 and 15 kn, over which we will estimate propulsion power. Typically, speed is reported in knots and needs to be converted to meters per second (m/s) for our calculations. After this step, the <code>ships</code> dataframe gets long, so we will not show summary tables for the remaining calculations.</p>
<p>Note that these defined speeds are used to illustrate how to use this function; in practice, the actual speeds could be derived from various data sources, such as Automatic Identification System (AIS) data.</p>
<p>The discrete speeds are defined using <code><a href="https://rdrr.io/r/base/c.html">c(1:15)</a></code>, merged with the <code>ships</code> dataframe, and converted to m/s using <code>calcSpeedUnitConversion</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span><span class="va">ships</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>ship.speed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcSpeedUnitConversion.html">calcSpeedUnitConversion</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span><span class="op">)</span></code></pre></div>
<p>First, we calculate the frictional resistance coefficient (<code>Cf</code>). The frictional resistance accounts for frictional interaction between the wetted surface area of the ship’s hull and the surrounding water. This calculation requires both the temperature and density of the surrounding seawater. For this example, we will assume average values for both: 15 degrees Celsius and 1.025 g/cm<sup>3</sup>, respectively.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Frictional Resistance</span>
<span class="va">ships</span><span class="op">$</span><span class="va">Cf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcCf.html">calcCf</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span>,
                   <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span>,
                   <span class="fl">15</span>,
                   seawaterDensity <span class="op">=</span> <span class="fl">1.025</span><span class="op">)</span></code></pre></div>
<p>To calculate the residual resistance, we first need to calculate the Froude number. The Froude number relates the ship’s length to its speed to characterize wave and wake behavior along the hull.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">froudeNum</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcFroudeNum.html">calcFroudeNum</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span><span class="op">)</span></code></pre></div>
<p>Next we calculate the residual resistance coefficients (<code>Cr</code>). Here, we use the same inputs for seawater temperature and density as before.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Residual Resistance</span>
<span class="va">ships</span><span class="op">$</span><span class="va">Cr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristCr.html">calcKristCr</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">M</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">froudeNum</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">actualDraft</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">breadth</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">Cp</span><span class="op">)</span></code></pre></div>
<p>Next, we calculate the incremental resistance (<code>Ca</code>) and air resistance (<code>Caa</code>) terms.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Incremental Resistance</span>
<span class="va">ships</span><span class="op">$</span><span class="va">Ca</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristCa.html">calcKristCa</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">actualDisplacement</span><span class="op">)</span>

<span class="co">#Air Resistance</span>
<span class="va">ships</span><span class="op">$</span><span class="va">Caa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristCaa.html">calcKristCaa</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                          <span class="va">ships</span><span class="op">$</span><span class="va">dwt</span><span class="op">)</span></code></pre></div>
<p>At this stage we can calculate the total resistance on the ship’s hull (<code>Rtot</code>). Here, we also apply a service margin of 15% to account for the impact of weather and waves under calm water conditions.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Total Resistance</span>
<span class="va">ships</span><span class="op">$</span><span class="va">Rtot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristTotalRes.html">calcKristTotalRes</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">wettedSA</span>,
                                <span class="va">ships</span><span class="op">$</span><span class="va">Cf</span>,
                                <span class="va">ships</span><span class="op">$</span><span class="va">Cr</span>,
                                <span class="va">ships</span><span class="op">$</span><span class="va">Ca</span>,
                                <span class="va">ships</span><span class="op">$</span><span class="va">Caa</span>,
                                seawaterDensity <span class="op">=</span> <span class="fl">1.025</span>,
                                <span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span>,
                                serviceMargin <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></code></pre></div>
</div>
<div id="calculate-efficiency-terms" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-efficiency-terms" class="anchor"></a>Calculate Efficiency Terms</h2>
<p>The next set of calculations deal with how efficiently the ship converts power into forward motion. The first efficiency we calculate is the hull efficiency. The hull efficiency accounts for the fact that energy is lost as the hull accelerates water flowing around it, and as the propeller also pulls water around the hull. The necessary inputs to calculate hull efficiency are the wake fraction and the thrust deduction factor.</p>
<p>The wake fraction (<code>w</code>) accounts for the fact that the water passing around the propeller exists within a boundary layer of water that gets pulled along with the ship. Thus, the velocity of the ship is different than the velocity of the water flowing over the propeller, which impacts the efficiency of power transmission by the propeller.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Wake Fraction</span>
<span class="va">ships</span><span class="op">$</span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristWakeFrac.html">calcKristWakeFrac</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">breadth</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">propDiam</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">M</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">nProp</span><span class="op">)</span></code></pre></div>
<p>The thrust deduction factor (<code>t</code>) accounts for loss of efficiency caused by water being drawn past the hull to the propeller. This water exerts a force opposite to the direction of thrust.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Thrust Deduction Factor</span>
<span class="va">ships</span><span class="op">$</span><span class="va">t</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristThrustFactor.html">calcKristThrustFactor</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">breadth</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">Cbw</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">propDiam</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">M</span>,
                                 <span class="va">ships</span><span class="op">$</span><span class="va">nProp</span><span class="op">)</span></code></pre></div>
<p>Using these terms we calculate the open water efficiency (<code>no</code>), which accounts for how efficiently the propeller converts shaft power into a forward thrust.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Open Water Efficiency</span>
<span class="va">ships</span><span class="op">$</span><span class="va">no</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcOpenWaterEff.html">calcOpenWaterEff</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">Rtot</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">t</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">nProp</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">w</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">propDiam</span>,
                             <span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span>,
                             seawaterDensity <span class="op">=</span> <span class="fl">1.025</span><span class="op">)</span></code></pre></div>
<p>Next, we calculate the hull efficiency (<code>nh</code>), which relates the force of the thrust generated by the propeller to the ship’s effective towing power.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#Hull Efficiency</span>
<span class="va">ships</span><span class="op">$</span><span class="va">nh</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcHullEff.html">calcHullEff</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">t</span>,
                        <span class="va">ships</span><span class="op">$</span><span class="va">w</span><span class="op">)</span></code></pre></div>
</div>
<div id="calculate-propulsive-power" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-propulsive-power" class="anchor"></a>Calculate Propulsive Power</h2>
<p>With the above values calculated, we can calculated ship propulsive power for each ship sample and speed. We assume shaft efficiency (<code>shaftEff</code>) is 0.98 and relative rotational efficiency (<code>relRotationEff</code>) is 1.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">Power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcResistanceShipPwr.html">calcResistanceShipPwr</a></span><span class="op">(</span><span class="va">ships</span><span class="op">$</span><span class="va">R</span>,
                                     <span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span>,
                                     <span class="va">ships</span><span class="op">$</span><span class="va">nh</span>,
                                     <span class="va">ships</span><span class="op">$</span><span class="va">no</span>,
                                     <span class="va">ships</span><span class="op">$</span><span class="va">MCR</span>,
                                     shaftEff <span class="op">=</span> <span class="fl">0.98</span>,
                                     relRotationEff <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p>The plot below shows the power curves calculated for each of the example ships:</p>
<p><img src="Kristensen.Example_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
<div id="calculate-propulsive-power-with-calckristpwr" class="section level3">
<h3 class="hasAnchor">
<a href="#calculate-propulsive-power-with-calckristpwr" class="anchor"></a>Calculate Propulsive Power with calcKristPwr()</h3>
<p>Instead of running each of the above functions individually, we can run them all at once to output propulsive power with the Kristensen method using the <code>calcKristPwr</code> function. Note <code>Cb</code> must be still be calculated as an input to this function.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ships</span><span class="op">$</span><span class="va">Power</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calcKristPwr.html">calcKristPwr</a></span><span class="op">(</span>
  totalInstalledPwr <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">MCR</span>,
  shipSpeed <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">ship.speed</span>,
  actualDraft <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">actualDraft</span>,
  maxDraft <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">maxDraft</span>,
  shipType <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">ship.type</span>,
  lwl <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">lwl</span>,
  breadth <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">breadth</span>,
  maxDisplacement <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">maxDisplacement</span>,
  Cb <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">Cb</span>,
  nProp <span class="op">=</span> <span class="fl">1</span>,
  dwt <span class="op">=</span> <span class="va">ships</span><span class="op">$</span><span class="va">dwt</span>,
  serviceMargin <span class="op">=</span> <span class="fl">15</span>,
  shaftEff <span class="op">=</span> <span class="fl">0.98</span>,
  relRotationEff <span class="op">=</span> <span class="fl">1</span>,
  seawaterTemp <span class="op">=</span> <span class="fl">15</span>,
  seawaterDensity <span class="op">=</span> <span class="fl">1.025</span>,
  CmEquationType <span class="op">=</span> <span class="st">"kristensen"</span>
<span class="op">)</span></code></pre></div>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Kristensen, H. O. “Ship-Desmo-Tool.” <a href="https://gitlab.gbar.dtu.dk/oceanwave3d/Ship-Desmo" class="uri">https://gitlab.gbar.dtu.dk/oceanwave3d/Ship-Desmo</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Isabela Brown, Michael Aldridge, Daniel Bizer-Cox.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
